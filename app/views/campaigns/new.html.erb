<script src="/ckeditor/ckeditor.js"></script>

<div id="main" class="push py-14 mt-10 mt-lg-12">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="text-center text-success mb-10">
          <div class="h1 font-weight-bold">發起提案</div>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid border-bottom mb-6 pt-3">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="nav-responsive">
            <ul class="nav nav-tabs nav-justified border-bottom-0">
              <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#tab-create1" role="tab">提案設定</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#tab-create2" role="tab">撰寫提案</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#tab-create3" role="tab">提案人資料</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#tab-create4" role="tab">小農隊</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <%= form_for @campaign, :url => campaigns_path(@campaign), :method => :post, :validation => true, :html => {:class => 'container tab-content'} do |f| %>
    <div class="tab-pane fade show active" id="tab-create1">
      <div class="mb-3 font-small text-muted">
        設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案
      </div>
      <div class="form-group">
        <%= f.label :goal, "資金目標" %>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">$</span>
          </div>
          <%= f.number_field :goal, :class => "form-control", :required => true %>
        </div>
        <div class="form-text text-muted font-small">
          資金目標並無設限，但應能啟動提案為門檻。
        </div>
      </div>
      <div class="form-group">
        <label>提案期間</label>
        <div class="form-row input-daterange" id="datepicker">
          <div class="col">
            <small class="text-muted">開始日期</small>
            <%= f.text_field :start_date, :class => "form-control", :required => true %>
          </div>
          <div class="col">
            <small class="text-muted">結束日期</small>
            <%= f.text_field :end_date, :class => "form-control", :required => true %>
          </div>
        </div>
        <div class="form-text text-muted font-small">
          系統預設開始時間為當日中午12點整，結束時間為當日傍晚24點整；最長不可超過90天。
        </div>
      </div>
      <div class="form-group">
        <label>提案名稱</label>
        <%= f.text_field :title, :class => "form-control", :required => true %>
        <div class="form-text text-muted font-small">
          不超過XX字，請輸入有核心理念引人注意的標題，非必要，審核後將不得變更。
        </div>
      </div>
      <div class="form-group">
        <label>提案摘要</label>
        <%= f.text_area :claim, :class => "form-control", :rows => "4" %>
        <div class="form-text text-muted font-small">
          不超過XX字，重點說明你的目標以及理念，強調不同之處，讓支持人對你或你的提案感號喜好。
        </div>
      </div>
      <div class="form-group">
        <label>標籤類別</label>
        <div>
          <% @campaign_tags.each do |ct| %>
            <div class="custom-control custom-checkbox custom-control-inline">
              <%= check_box_tag "tag_ids_#{ct.id}", ct.id, false, :class => "custom-control-input" %>
              <label class="custom-control-label" for="<%= "tag_ids_#{ct.id}" %>"><%= ct.name%></label>
            </div>
          <%end%>
        </div>
        <div class="form-text text-muted font-small">
          請勾選屬於您提案的類別，可複選，若無則可不勾選。
        </div>
      </div>
      <div class="form-group">
        <label>提案封面</label>
          <%= f.fields_for :campaign_image, @campaign.input_campaign_image do |i|%>
            <%= i.file_field :file, :class => "form-control"%>
          <% end %>
        <div class="form-text text-muted font-small">
          請提供 JPEG、PNG檔，圖片尺寸至少 1024 x 768 px (4:3)；檔案大小 2MB 以內。
        </div>
      </div>
      <div class="form-group">
        <%= f.label :youtube_url, "YouTube影片" %><%= f.text_field :youtube_url, :class => "form-control" %>
        <div class="form-text text-muted font-small">
          影片時間建議100百秒左右，建議在上傳YouTube時先設定好影片封面。
        </div>
      </div>
      <div class="form-group">
        <%= f.label :facebook_url, "提案粉專" %>
        <%= f.text_field :facebook_url, :class => "form-control" %>
        <div class="form-text text-muted font-small">
          請輸入與提案相關的FB粉專，請貼上完整網址。
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="tab-create2">
      <div class="mb-3 font-small text-muted">
        設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案
      </div>
      <div class="form-group">
        <%= f.label :description_html, "提案內容" %>
        <%= f.text_area :description_html, rows: 4, :class => "form-control", :required => true %>
        <div class="form-text text-muted font-small">
          <ol class="pl-4">
            <li>建議圖片寬度為 697 px，單張圖檔不超過 2 MB，圖片中文字不得小於16字級。</li>
            <li>平台有最終保留權力，如果您所提供的資訊過少，或無法證明的真實性、可行性，提案則無法上架。</li>
          </ol>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :order_description_html, "支持注意事項" %>
        <%= f.text_area :order_description_html, rows: 4, :class => "form-control" %>
        <div class="form-text text-muted font-small">
          <ol class="pl-4">
            <li>若需要補充贊助時注意事項請在此說明，如回饋商品的款式、顏色、尺寸等，若無則系統預設如下。(系統預設則為<a href="http://prntscr.com/l69hl6" target="_blank">http://prntscr.com/l69hl6</a>)</li>
            <li>若需要補充贊助後注意事項請在此說明，如回饋商品的換貨、退款、發票等，若無則系統預設如下圖。</li>
          </ol>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :risk, "風險與承諾" %><%= f.text_area :risk, rows: 4, :class => "form-control" %>
        <div class="form-text text-muted font-small">
          提案中可能遇到許多變數，請清楚條例出備案及辦法，降低支持者疑慮。<br>
          範例參考：
          <ol class=" pl-4">
            <li>募資成功後，預計oo月開始採收期，製程至包裝到出貨預計為期oo週。</li>
            <li>收到貨後時，請先檢查是否有碰撞造成損毀，如有出現狀況，請立即與我們聯繫。</li>
            <li>天災及不可抗力因素（如：颱風、豪大雨、病蟲害），將會延遲出貨。</li>
            <li>同上，若導致產量銳減無法順利出貨，將會進行通知並退費給支持者。</li>
          </ol>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="tab-create3">
      <div class="mb-3 font-small text-muted">
        設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案
      </div>
      <div class="form-group">
        <%= f.label :name, "提案者姓名" %>
        <%= f.text_field :name, :class => "form-control", :required => true %>
        <div class="form-text text-muted font-small">
          本平台提案人需作身份核實，請務必填寫您的真實姓名。
        </div>
      </div>
      <div class="form-group">
        <%= f.label :email, "聯絡信箱" %>
        <%= f.text_field :email, :class => "form-control", :required => true %>
        <div class="form-text text-muted font-small">
          請確保專案經理聯絡到您，以及提案中支持者的來信都將透過此信箱。
        </div>
      </div>
      <div class="form-group">
        <%= f.label :phone, "手機號碼" %>
        <%= f.text_field :phone, :class => "form-control", :required => true %>
        <div class="form-text text-muted font-small">
          請確保專案經理聯絡到您，以及提案中支持者的來信都將透過此信箱。
        </div>
      </div>
      <!-- <div class="form-group">
        <label>FB或粉專</label>
        <input type="url" class="form-control" value="" placeholder="">
        <div class="form-text text-muted font-small">
          如有個人、團體或品牌之粉專，請貼上完整網址。
        </div>
      </div> -->
      <div class="form-group">
        <%= f.label :self_introduction, "自我介紹" %>
        <%= f.text_area :self_introduction, :class => "form-control", :rows => "4", :required => true %>
        <div class="form-text text-muted font-small">
          不超過XX字，最長不超過xx字
        </div>
      </div>
      <div class="form-group">
        <%= f.label :order_success_html, "給支持者的話" %>
        <%= f.text_area :order_success_html, rows: 4, :class => "form-control" %>
        <div class="form-text text-muted font-small">
          不超過XX字，最長不超過xx字
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="tab-create4">
        <div class="mb-3 font-small text-muted">
            設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案設定提醒文案
        </div>
            <div class="form-row mb-6">
                <div class="col-12 col-lg-4 my-2">
                    <select class="custom-select">
                        <option>選擇隊伍</option>
                    </select>
                </div>
                <div class="col-12 col-lg-4 my-2">
                    <select class="custom-select">
                        <option>選擇小農</option>
                    </select>
                </div>
                <div class="col-12 col-lg-2 my-2">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">$</span>
                        </div>
                        <input type="number" class="form-control" placeholder="合作收益">
                    </div>
                </div>
                <div class="col-12 col-lg-2 my-2">
                    <a class="btn btn-block btn-outline-primary" href="">新增</a>
                </div>
            </div>
            <div class="h6 font-weight-bold mb-3">參與合作的小農</div>
            <table class="table table-rwd table-striped">
                <tbody>
                    <tr>
                        <td class="td-head align-middle" data-label="隊伍">手機王產銷班</td>
                        <td class="text-lg-center align-middle" data-label="小農">林一二</td>
                        <td class="text-lg-center align-middle" data-label="合作收益">$30,000</td>
                        <td class="text-lg-right">
                            <div class="btn-group btn-group-sm">
                                <a class="btn btn-outline-primary" href="">編輯</a>
                                <a class="btn btn-outline-primary" href="">移除</a>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="td-head align-middle" data-label="隊伍">手機王產銷班</td>
                        <td class="text-lg-center align-middle" data-label="小農">林一二</td>
                        <td class="text-lg-center align-middle" data-label="合作收益">$30,000</td>
                        <td class="text-lg-right">
                            <div class="btn-group btn-group-sm">
                                <a class="btn btn-outline-primary" href="">編輯</a>
                                <a class="btn btn-outline-primary" href="">移除</a>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
    </div>
  <% end %>
  <div class="container">
      <div class="form-group">
          <div class="custom-control custom-checkbox">
              <input type="checkbox" class="custom-control-input" id="customCheck-agree">
              <label class="custom-control-label" for="customCheck-agree">
                  我已同意<a href="" target="_blank"><u>網站使用條款</u></a> 及 <a href="project-contract.html" target="_blank"><u>提案合約書</u></a>
              </label>
          </div>
      </div>
      <a class="btn btn-primary px-10" href="" data-toggle="modal" data-target="#modal-check">儲存與檢查</a>
      <a class="btn btn-outline-secondary px-10" href="">取消</a>
  </div>
</div>

<div class="container">
	<div class="mid_box">
		<div class="top_section mb-4">
			<h1>提交提案</h1>
			<p>需審核需審核需審核需審核需審核需審核需審核</p>
		</div>
		<%= form_for @campaign, :url => campaigns_path(@campaign), :method => :post, :validation => true, :html => {:class => 'form-horizontal'} do |f| %>
			<div class="form-group">
				<%= f.label :title, "標題" %><%= f.text_field :title, :class => "form-control", :required => true %>
        <%= f.label("類別", :class => 'form-control-label') %>
        <% @campaign_tags.each do |ct| %>
          <li>
            <%= check_box_tag 'tag_ids[]', ct.id %><%= ct.name%>
          </li>
        <%end%>
				<%= f.label :claim, "聲言" %><%= f.text_area :claim, :class => "form-control" %>
      </div>
      <div class="row">
        <div class="col-sm-6">
      		<%= f.label :goal, "目標金額" %><%= f.number_field :goal, :class => "form-control", :required => true %>
      	</div>
      	<div class="col-sm-6">
      		<%= f.label :email, "Email" %><%= f.text_field :email, :class => "form-control", :required => true %>
      	</div>
      </div>
      <div class="row">
        <div class="col-sm-6">
      		<%= f.label :start_date, "開始時間" %><%= f.date_field :start_date, :class => "form-control", :required => true %>
      	</div>
      	<div class="col-sm-6">
      		<%= f.label :end_date, "結束時間" %><%= f.date_field :end_date, :class => "form-control", :required => true %>
      	</div>
      </div>
      <div class="form-group">
        <%= f.fields_for :campaign_image, @campaign.input_campaign_image do |i|%>
          <%= i.label "上傳圖片"%>
          <%= i.file_field :file, :class => "form-control"%>
        <% end %>
				<%= f.label :youtube_url, "YouTube影片" %><%= f.text_field :youtube_url, :class => "form-control" %>
				<%= f.label :facebook_url, "Facebook粉絲團" %><%= f.text_field :facebook_url, :class => "form-control" %>
				<%= f.label :twitter_url, "Twitter" %><%= f.text_field :twitter_url, :class => "form-control" %>
        <hr>
        <%= f.label :risk, "風險與承諾" %><%= f.text_area :risk, rows: 4, :class => "form-control" %>
        <hr>
				<%= f.label :description_html, "提案內容" %><%= f.text_area :description_html, rows: 4, :class => "form-control", :required => true %>
        <hr>
        <%= f.label :order_description_html, "贊助時注意事項" %><%= f.text_area :order_description_html, rows: 4, :class => "form-control" %>
        <hr>
        <%= f.label :order_success_html, "贊助後注意事項" %><%= f.text_area :order_success_html, rows: 4, :class => "form-control" %>
      </div>
      <%= f.submit "送出"%>
      <%= f.submit "取消", :type => "reset" %>     
		<% end %>
	</div>
</div>
<% content_for :javascript do %>
  <script>
    CKEDITOR.replace( 'campaign_risk' );
    CKEDITOR.replace( 'campaign_description_html' );
    CKEDITOR.replace( 'campaign_order_description_html' );
    CKEDITOR.replace( 'campaign_order_success_html' );
  </script>
<% end %>